# This is the main configuration file for the application.
# https://www.playframework.com/documentation/latest/ConfigFile
play.http {
  secret.key = "320395e41b98f66c8fb473e8e9f12747bd791f6a841b949fd3224dd848e28569"
  parser.maxMemoryBuffer=100MB
}
play.filters {
  enabled += "play.filters.cors.CORSFilter"
  enabled += "play.filters.gzip.GzipFilter"
  enabled += "filters.LoggingFilter"
  cors {
//    allowedOrigins = ["http://localhost:3000", "https://flux-coordinator.herokuapp.com"]
//    allowedHttpMethods = ["GET", "POST", "PUT", "DELETE", "OPTIONS"]
  }
  hosts {
    # Allow requests to example.com, its subdomains, and localhost:9000.
    allowed = [".herokuapp.com", "localhost"]
  }
}
play.editor="http://localhost:63342/api/file/?file=%s&line=%s"

play.modules.disabled += "play.core.ObjectMapperModule"

security.jwtSigningKey = "12easdmk"

db.default {
  driver=org.postgresql.Driver
  jndiName=DefaultDS
  url="jdbc:postgresql://localhost:5432/flux"
  username="postgres"
  password="postgres"
}

db.default.url = ${?JDBC_DATABASE_URL} // Provided by heroku, you should too!
db.default.username = ${?JDBC_DATABASE_USERNAME}
db.default.password = ${?JDBC_DATABASE_PASSWORD}

jpa.default=defaultPersistenceUnit

# db connections = ((physical_core_count * 2) + effective_spindle_count)
# For a quad-core i7 CPU with one Hard Disk: (4 * 2) + 1 = 9.
# For a Raspberry Pi 3: (4 * 2) + 1 = 9
fixedConnectionPool = 9
database.dispatcher {
  executor = "thread-pool-executor"
  throughput = 1
  thread-pool-executor {
    fixed-pool-size = ${fixedConnectionPool}
  }
}